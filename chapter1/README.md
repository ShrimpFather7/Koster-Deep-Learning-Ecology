# Chapter 1: Depth Extraction  

This chapter contains the script and data used for extracting depth information from the video overlay of ROV footage using image manipulation and OCR software. Originally designed for use with a series of video frames generated by [SUBSIM Notebook "Upload Subjects to Zooniverse"](https://github.com/ocean-data-factory-sweden/kso/blob/dev/notebooks/classify/Upload_subjects_to_Zooniverse.ipynb "Upload Subjects to Zooniverse (GitHub)") (using step "Get frames from movies (Manual)").

## **Citation**
Please use the following citation for use of any data or code provided in this repository:
- Zenodo blablabla Nilsson 2025

Originally used for data processing in:
- Nilsson et al. 2025

## **Contents**  
- `Extract_depths.ipynb` – Script that crops, edits, and reads numbers from a series of images in a folder.  
- `chp_1_example_data` – Folder containing a series of pre-cropped images with depth values and frame number in their file name. [See note 1](#note-1)


## **Dependencies**
- os
- csv
- PIL
- numpy
- pandas
- easyocr
- matplotlib.pyplot

## **How to Use**  
1. Ensure all images have their file name and frame number in the file name (preferably separated by '_').
2. Load the script in into Jupyter Notebooks.
3. Follow instructions in the script to edit and then either crop and read or just read your images. [See note 2](#note-2)
4. Remove misread values with attached boolean terminology.

## **Output**
- `chp_2_depth_df.csv` – A .csv-file including the depth read, frame number, and name of the file which the frame was taken from.

## **Contact**
Questions, bugs, and suggestions can be submitted via email to christian.nilsson7@outlook.com.

## **License**
- All scripts and data are available under the [MIT license](https://mit-license.org/), please cite any use or derivatives of this work.

## **Notes**
### <a id="note-1"></a>Note 1
Images are pre-cropped due to national legislation prohibiting sharing of Swedish seafloor data, but feel free to use with your own images. Just make sure the frame number is in the file name!

### <a id="note-2"></a>Note 2
Cropping will overwrite all images in the folder, make sure you only have images you want to crop in the folder, and that you have a backup. 
